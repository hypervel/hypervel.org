# Database: Seeding
[[toc]]

## Introduction

Hypervel includes the ability to seed your database with data using seed classes. All seed classes are stored in the `database/seeders` directory. By default, the `db:seed` command runs all the seeders in `database/seeders` directory.

::: note
[Mass assignment protection](/docs/eloquent#mass-assignment) is automatically disabled during database seeding.
:::

## Writing Seeders

To generate a seeder, execute the `make:seeder` [Artisan command](/docs/artisan). All seeders generated by the framework will be placed in the `database/seeders` directory:

```shell:no-line-numbers
php artisan make:seeder UserSeeder
```

A seeder class only contains one method by default: `run`. This method is called when the `db:seed` [Artisan command](/docs/artisan) is executed. Within the `run` method, you may insert data into your database however you wish. You may use the [query builder](/docs/queries) to manually insert data or you may use [Eloquent model factories](/docs/eloquent-factories).

As an example, let's modify the default `DatabaseSeeder` class and add a database insert statement to the `run` method:

```php
<?php

use Hyperf\Database\Seeders\Seeder;
use Hypervel\Support\Facades\DB;
use Hypervel\Support\Facades\Hash;
use Hypervel\Support\Str;

class DatabaseSeeder extends Seeder
{
    /**
     * Run the database seeders.
     */
    public function run(): void
    {
        DB::table('users')->insert([
            'name' => Str::random(10),
            'email' => Str::random(10).'@example.com',
            'password' => Hash::make('password'),
        ]);
    }
}
```

::: note
Seeder classes don't support namespace yet, and will support in `v0.3.0`.
:::

### Using Model Factories

Of course, manually specifying the attributes for each model seed is cumbersome. Instead, you can use [model factories](/docs/eloquent-factories) to conveniently generate large amounts of database records. First, review the [model factory documentation](/docs/eloquent-factories) to learn how to define your factories.

For example, let's create 50 users:

```php
use App\Models\User;

/**
 * Run the database seeders.
 */
public function run(): void
{
    factory(User::class, 50)
        ->create();
}
```

## Running Seeders

You may execute the `db:seed` Artisan command to seed your database. By default, the `db:seed` command runs all the seeders in `database/seeders` directory.

```shell:no-line-numbers
php artisan db:seed
```

You may also seed your database using the `migrate:fresh` command in combination with the `--seed` option, which will drop all tables and re-run all of your migrations. This command is useful for completely re-building your database.

```shell:no-line-numbers
php artisan migrate:fresh --seed
```

#### Forcing Seeders to Run in Production

Some seeding operations may cause you to alter or lose data. In order to protect you from running seeding commands against your production database, you will be prompted for confirmation before the seeders are executed in the `production` environment. To force the seeders to run without a prompt, use the `--force` flag:

```shell:no-line-numbers
php artisan db:seed --force
```